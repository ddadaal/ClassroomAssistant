# 经验和挑战

By 五律协同观乙方

| 成员学号  | 成员姓名 |
| --------- | -------- |
| 161250010 | 陈俊达   |
| 161250011 | 陈俊宇   |
| 161250091 | 苗沐之   |
| 161250050 | 靳炳淑   |
| 161250103 | 钱宇辰   |
| 161250068 | 廖均达   |
| 161250056 | 李冰     |
| 161250067 | 梁楠     |

# 1. 分工情况

| 姓名 | 学号 |  工作 | 
| -- | -- | -- |
| 陈俊达 | 161250010 | 设计P2P架构的文件、推送模块，完成Demo项目，画类图，最终展示 |
| 陈俊宇 | 161250011 | 设计CS架构的举手模块和讨论模块，整合CS架构设计文档，写上下文图，展示对陈骁组的展示结果 | 
| 苗沐之 | 161250091 | 设计P2P架构的发言、讨论模块，整合P2P架构设计文档，负责架构评估，在评估练习中负责故障检测场景，在评估中负责数据安全和权限控制场景 |
| 靳炳淑 | 161250050 | 设计P2P架构的签到、考试模块，在评估练习中负责用户验证场景，在评估中负责数据完整性和服务更新场景 | 
| 钱宇辰 | 161250103 |设计P2P架构的客户端注册、服务器注册、数据持久化模块，编写P2P和CS架构对比表格，在评估练习中负责数据加密场景，在评估中负责并发性和响应速度场景 |
| 廖均达 | 161250068 |设计CS架构的签到、管理模块，整合整个设计文档，完成接口和实现对应表格，在评估中负责错误检测场景 | 
| 李冰| 161250056 | 设计CS架构的下载、考试模块，在评估会议上展示我们的架构，在评估练习中负责服务可用性场景 | 
| 梁楠 | 161250067 | 设计CS架构的推送、上传模块，整合评估文档 | 

# 2. 经验教训

在这次大作业中，我们使用ADD方法，用P2P和CS两种架构实现了一套课堂信息管理平台，然后使用ATAM方法分析了一套电影评分系统。

在设计架构过程，我们遇到了很多问题。例如说，P2P架构在一开始模块划分中，网络模块和权限模块是统一的，当时考虑的是由权限模块对每次网络请求进行鉴权操作。但是在真正设计的时候，我们才发现即使将权限模块和网络模块统一，在其内部权限和网络模块之间也只有很少的联系。同时，权限模块和网络模块所持有的数据和所持有的职责也完全不同，强行将他们统一是违反模块划分原则、是不合适的。再加上我们认为权限管理的事情更应该由应用模块自己来实现，所以最终，我们修改了模块划分，拆分了两个模块，让整个模块划分和体系结构设计变得更加合理。再比如说，由于我们对P2P架构都不是很熟悉，所以早在提交Proposal的时候，我们就可以开始从网络上广泛了解P2P网络的相关知识，并从各个技术中选择了最适合我们项目的相关技术。而在C/S中，为了提高性能这个质量因素，我们搜索了资料、并进行分析，以了解类似真实系统中性能瓶颈所在，并根据真实的经验对一些模块（例如说签到模块采用缓存机制，而不是P2P的消息队列）进行了设计。

我们在这个过程中，通过亲身体验体系结构的设计过程，也了解到了各个体系结构的优缺点之所在。例如说，常理认为，P2P架构在可用性、扩展性方面比C/S强了不少，考虑到系统可能的大量学生用户的使用情景，P2P的高可用性也是我们选择P2P架构进行实现的原因之一。但是在设计的过程中，我们发现了P2P的一些巨大的缺点，就像助教所说，文件共享功能、签到功能是不适合使用P2P来设计的。即使这样，我们还是将P2P架构设计了出来。虽然这个设计过程可能是多余的，但是我们不仅体验了P2P架构设计的过程，知道了一些设计架构中所通常出现的关注点，同时我们也深刻认识到了P2P架构的优势和缺点，这些经验和教训对我们以后实际的架构设计工作来说是非常有价值的。

在评估阶段，通过评估其他组的架构，我们也知道了评估一个架构的关注点在哪里，我们也通过尝试寻找其他项目的敏感点、权衡点、风险和非风险，来帮助我们提高评估和检查一个架构的能力。为了让其他组能够很方便地评估我们的架构，我们也学会了从场景和质量属性入手，来展示我们设计的各个方面：从场景寻找设计关注点，从设计关注点寻找策略，然后根据质量属性、功能需求等各个因素来选择最佳策略。准备被评估的过程也为我们的最终展示打好了基础：我们最终展示也用相同的流程，将我们的系统的重点模块进行讲解。

最终，我们是个8人的大团队。为了能够在1周多的时间内完成这两份合起来超过110页的文档，我们也采取了多种措施以保证合作、分工的效率和质量。我们也这过程中体会到了多人分工的困难和挑战，当然也在文档完成的那一刻感到所有人齐心协力所迸发出的非凡的力量。